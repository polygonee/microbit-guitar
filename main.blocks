<xml xmlns="https://developers.google.com/blockly/xml"><block type="pxt-on-start" id="EhJ9omy-!O?[?JKakW}6" x="0" y="0"><statement name="HANDLER"><block type="typescript_statement" id="*}qjlmHuCoi|K6e/#u`t" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="class BackgroundMusic {" line1="    musicToPlay: any[];" line2="    frequency: Number;" line3="    " line4="    playingStatus = false;" line5="    constructor(frequency: Number, music: any[]){" line6="        this.musicToPlay = music;" line7="        this.frequency = frequency;" line8="    }" line9="    " line10="    /**" line11="     * Set the frequency to a new number." line12="     */" line13="    setFrequency(freq: Number) {" line14="        this.frequency = freq;" line15="        console.log(`Set frequency to ${freq}. Stopped music.`)" line16="        return this.stop();" line17="    }" line18="    /**" line19="     * Stop playing the music. Make sure to use applyChanges()." line20="     */" line21="    stop() {" line22="        console.log('Stopped.')" line23="        return this.playingStatus = false;" line24="    }" line25="    /**" line26="     * Start playing the music. Make sure to use applyChanges()." line27="     */" line28="    start(){" line29="        console.log('Started.')" line30="        return this.playingStatus = true;" line31="    }" line32="    /**" line33="     * Must be used after using stop() and start()." line34="     */" line35="    applyChanges(){" line36="        while(this.playingStatus){" line37="            for(let i = 0; i &lt; this.musicToPlay.length; i++){" line38="                console.log(`Playing ${this.musicToPlay[i]}`)" line39="                music.playTone(this.musicToPlay[i], music.beat())" line40="            }" line41="        }" line42="    }" line43="" line44="}" numlines="45"></mutation><next><block type="typescript_statement" id="P3bc|Zb}QB%Po_(JOu?p" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="const d = new BackgroundMusic(80, [&quot;ok&quot;, &quot;0o0o0&quot;])" numlines="1" declaredvars="d"></mutation><next><block type="typescript_statement" id="vXJZnxBPWX)B[Jo]g?;G" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="d.applyChanges()" numlines="1"></mutation><next><block type="typescript_statement" id="sVrLWAkq7*@TDo^yU{-9" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="console.log(music.beat)" numlines="1"></mutation></block></next></block></next></block></next></block></statement></block></xml>